{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}{{ project_item.title }} - KUAI Club Projects{% endblock %}

{% block content %}
<section class="container my-5">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <article class="project-detail bg-white p-4 p-md-5 rounded shadow-sm">
                {% if project_item.image %}
                    <img src="{{ project_item.image.url }}" class="img-fluid rounded mb-4" alt="{{ project_item.title }}">
                {% else %}
                    <img src="{% static 'images/default-project-detail.jpg' %}" class="img-fluid rounded mb-4" alt="Default Project Image">
                {% endif %}

                <h1 class="mb-3 text-primary">{{ project_item.title }}</h1>
                <p class="text-muted small mb-4">Published on: {{ project_item.publish_date|date:"F d, Y" }}</p>

                <div class="project-description mb-4">
                    {{ project_item.description|safe }} {# Use 'safe' filter if description can contain HTML #}
                </div>

                {% if project_item.summary %}
                    <p class="lead border-start border-primary border-4 ps-3 mb-4">
                        "{{ project_item.summary }}"
                    </p>
                {% endif %}

                <hr class="my-4">

                <div class="project-contact-info">
                    {% if project_item.contact_email %}
                        <p><i class="bi bi-envelope-fill text-info me-2"></i> Email: <a href="mailto:{{ project_item.contact_email }}">{{ project_item.contact_email }}</a></p>
                    {% endif %}
                    {% if project_item.phone_number %}
                        <p><i class="bi bi-phone-fill text-info me-2"></i> Phone: <a href="tel:{{ project_item.phone_number }}">{{ project_item.phone_number }}</a></p>
                    {% endif %}
                    {% if project_item.url %}
                        <p><i class="bi bi-link-45deg text-info me-2"></i> Project Link: <a href="{{ project_item.url }}" target="_blank" rel="noopener noreferrer">{{ project_item.url }}</a></p>
                    {% endif %}
                </div>

                <div class="mt-5 text-center">
                    <a href="{% url 'kuai_club:project_list' %}" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left"></i> Back to All Projects
                    </a>
                </div>
            </article>
        </div>
    </div>
</section>
{% endblock %}