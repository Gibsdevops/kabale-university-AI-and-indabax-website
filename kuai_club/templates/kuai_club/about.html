{% extends "layouts/base.html" %}
{% load static %}

{% block title %}{{ about.title }} - AI Kabale{% endblock %}

{% block content %}
<style>
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        color: #1a202c;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

    /* Hero Section - Enhanced */
    .about-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 120px 0 100px;
        position: relative;
        overflow: hidden;
        text-align: center;
        min-height: 60vh;
        display: flex;
        align-items: center;
    }

    .about-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 1px, transparent 1px),
            radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 1px, transparent 1px),
            linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%);
        background-size: 50px 50px, 60px 60px, 30px 30px;
        animation: backgroundMove 20s linear infinite;
    }

    @keyframes backgroundMove {
        0% { background-position: 0 0, 0 0, 0 0; }
        100% { background-position: 50px 50px, -60px -60px, 30px 30px; }
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        position: relative;
        z-index: 2;
    }

    .hero-content {
        max-width: 800px;
        margin: 0 auto;
        transform: translateY(0);
        animation: fadeInUp 1s ease-out;
    }

    .about-hero h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 800;
        margin-bottom: 24px;
        background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 2px 20px rgba(0,0,0,0.1);
        letter-spacing: -0.02em;
    }

    .hero-subtitle {
        font-size: clamp(1.1rem, 2.5vw, 1.4rem);
        opacity: 0.95;
        margin-bottom: 40px;
        line-height: 1.7;
        font-weight: 300;
        max-width: 650px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-stats {
        display: flex;
        justify-content: center;
        gap: 40px;
        flex-wrap: wrap;
        margin-top: 50px;
    }

    .hero-stat {
        text-align: center;
        padding: 20px;
        border-radius: 16px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
        min-width: 120px;
    }

    .hero-stat:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.15);
    }

    .hero-stat-number {
        font-size: 2rem;
        font-weight: 700;
        display: block;
        margin-bottom: 5px;
    }

    .hero-stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Main Content */
    .about-content {
        padding: 100px 0;
        background: #ffffff;
    }

    /* Who We Are & Why We Exist - Side by Side */
    .dual-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        margin-bottom: 120px;
        align-items: start;
    }

    .section-card {
        background: white;
        border-radius: 24px;
        padding: 50px 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        border: 1px solid #e2e8f0;
        position: relative;
        overflow: hidden;
        transition: all 0.4s ease;
        height: fit-content;
    }

    .section-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .section-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.12);
    }

    .section-card h2 {
        font-size: 2.2rem;
        color: #2c3e50;
        margin-bottom: 30px;
        font-weight: 700;
        position: relative;
    }

    .section-card h2::after {
        content: '';
        position: absolute;
        bottom: -15px;
        left: 0;
        width: 60px;
        height: 4px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 2px;
    }

    .section-card p {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #4a5568;
        margin-bottom: 25px;
        text-align: justify;
    }

    .section-image {
        margin-top: 30px;
        border-radius: 16px;
        overflow: hidden;
        position: relative;
    }

    .section-image img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        transition: transform 0.4s ease;
    }

    .section-card:hover .section-image img {
        transform: scale(1.05);
    }

    /* Image placeholder styling */
    .image-placeholder {
        width: 100%;
        height: 250px;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #64748b;
        font-size: 1rem;
        text-align: center;
        border: 2px dashed #cbd5e0;
        margin-top: 30px;
    }

    /* Mission, Vision, Objectives Grid */
    .foundation-section {
        margin: 120px 0;
    }

    .section-header {
        text-align: center;
        margin-bottom: 80px;
    }

    .section-title {
        font-size: clamp(2.5rem, 4vw, 3.5rem);
        color: #2c3e50;
        margin-bottom: 20px;
        font-weight: 800;
        position: relative;
        display: inline-block;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 5px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 3px;
    }

    .section-subtitle {
        font-size: 1.3rem;
        color: #64748b;
        max-width: 700px;
        margin: 0 auto;
        font-weight: 400;
    }

    .mvv-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
        gap: 40px;
        margin-top: 60px;
    }

    .mvv-card {
        background: white;
        border-radius: 24px;
        padding: 50px 40px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        border: 1px solid #e2e8f0;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        text-align: center;
    }

    .mvv-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .mvv-card:hover {
        transform: translateY(-15px);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
    }

    .mvv-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 30px;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        transition: all 0.3s ease;
    }

    .mvv-card:hover .mvv-icon {
        transform: scale(1.1);
        box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
    }

    .mvv-icon svg {
        width: 40px;
        height: 40px;
        color: white;
    }

    .mvv-card h3 {
        font-size: 1.8rem;
        color: #2c3e50;
        margin-bottom: 25px;
        font-weight: 700;
    }

    .mvv-card p {
        color: #4a5568;
        line-height: 1.8;
        font-size: 1.1rem;
        text-align: justify;
    }

    .mvv-image {
        margin-top: 20px;
        border-radius: 12px;
        overflow: hidden;
    }

    .mvv-image img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }

    /* Impact Section */
    .impact-section {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        padding: 120px 0;
        margin: 120px 0;
        position: relative;
        overflow: hidden;
    }

    .impact-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: 
            radial-gradient(circle at 25% 25%, rgba(102, 126, 234, 0.1) 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, rgba(118, 75, 162, 0.1) 2px, transparent 2px);
        background-size: 60px 60px, 80px 80px;
        animation: backgroundFloat 15s ease-in-out infinite;
    }

    @keyframes backgroundFloat {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
        position: relative;
        z-index: 2;
    }

    .stat-item {
        background: white;
        padding: 50px 30px;
        border-radius: 20px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        transition: all 0.4s ease;
        border: 1px solid #e2e8f0;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .stat-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .stat-item:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
    }

    .stat-number {
        font-size: 3.5rem;
        font-weight: 800;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: block;
        margin-bottom: 15px;
        line-height: 1;
    }

    .stat-label {
        color: #64748b;
        font-size: 1.1rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Call to Action */
    .cta-section {
        background: linear-gradient(135deg, #2c3e50 0%, #3a5998 100%);
        color: white;
        padding: 120px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    .cta-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%),
            radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 1px, transparent 1px);
        background-size: 40px 40px, 60px 60px;
        animation: ctaBackground 25s linear infinite;
    }

    @keyframes ctaBackground {
        0% { background-position: 0 0, 0 0; }
        100% { background-position: 40px 40px, 60px 60px; }
    }

    .cta-content {
        position: relative;
        z-index: 2;
        max-width: 800px;
        margin: 0 auto;
    }

    .cta-title {
        font-size: clamp(2.2rem, 4vw, 3.2rem);
        margin-bottom: 30px;
        font-weight: 800;
        line-height: 1.2;
    }

    .cta-description {
        font-size: 1.3rem;
        margin-bottom: 50px;
        opacity: 0.9;
        line-height: 1.7;
        font-weight: 300;
    }

    .cta-buttons {
        display: flex;
        gap: 25px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .btn-primary, .btn-secondary {
        padding: 18px 40px;
        border-radius: 12px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        display: inline-block;
        position: relative;
        overflow: hidden;
    }

    .btn-primary {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }

    .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        color: white;
        text-decoration: none;
    }

    .btn-secondary {
        background: transparent;
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
    }

    .btn-secondary:hover {
        background: white;
        color: #2c3e50;
        text-decoration: none;
        transform: translateY(-3px);
    }

    /* Placeholder styling for missing content */
    .placeholder-content {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px dashed #cbd5e0;
        border-radius: 16px;
        padding: 40px;
        text-align: center;
        color: #64748b;
        font-style: italic;
        margin-top: 20px;
    }

    /* Scroll indicator */
    .scroll-indicator {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        width: 30px;
        height: 50px;
        border: 2px solid rgba(255, 255, 255, 0.5);
        border-radius: 25px;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 8px;
    }

    .scroll-indicator::before {
        content: '';
        width: 6px;
        height: 6px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        animation: scrollBounce 2s infinite;
    }

    @keyframes scrollBounce {
        0%, 20% { transform: translateY(0); }
        50% { transform: translateY(15px); }
        80%, 100% { transform: translateY(0); }
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
        .dual-section {
            grid-template-columns: 1fr;
            gap: 60px;
        }

        .mvv-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
    }

    @media (max-width: 768px) {
        .about-hero {
            padding: 100px 0 80px;
            min-height: 50vh;
        }

        .hero-stats {
            gap: 20px;
        }

        .hero-stat {
            min-width: 100px;
            padding: 15px;
        }

        .section-card {
            padding: 40px 30px;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
        }

        .cta-buttons {
            flex-direction: column;
            align-items: center;
        }
    }

    @media (max-width: 640px) {
        .container {
            padding: 0 15px;
        }

        .dual-section {
            gap: 40px;
        }

        .section-card {
            padding: 30px 25px;
        }

        .mvv-card {
            padding: 40px 30px;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }

        .hero-stats {
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
    }
</style>

<!-- Hero Section -->
<div class="about-hero">
    <div class="container">
        <div class="hero-content">
            <h1>{{ about.title|default:"About AI Kabale" }}</h1>
            <p class="hero-subtitle">
                {{ about.content|default:"Empowering the future through artificial intelligence education and innovation. We are building Uganda's next generation of AI leaders and innovators." }}
            </p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ about.hero_stat_1_value|default:"500+" }}</span>
                    <span class="hero-stat-label">{{ about.hero_stat_1_label|default:"Students" }}</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ about.hero_stat_2_value|default:"50+" }}</span>
                    <span class="hero-stat-label">{{ about.hero_stat_2_label|default:"Projects" }}</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ about.hero_stat_3_value|default:"15+" }}</span>
                    <span class="hero-stat-label">{{ about.hero_stat_3_label|default:"Partners" }}</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ about.hero_stat_4_value|default:"3" }}</span>
                    <span class="hero-stat-label">{{ about.hero_stat_4_label|default:"Years" }}</span>
                </div>
            </div>
        </div>
        <div class="scroll-indicator"></div>
    </div>
</div>

<!-- Main Content -->
<div class="about-content">
    <div class="container">
        
        <!-- Who We Are & Why We Exist Section -->
        <div class="dual-section" id="who-we-are">
            <!-- Who We Are -->
            <div class="section-card">
                <h2>{{ about.who_we_are_title|default:"Who We Are" }}</h2>
                {% if about.who_we_are_description %}
                    {{ about.who_we_are_description|linebreaks }}
                {% else %}
                    <p>
                        We are a diverse group passionate about exploring the frontiers of artificial intelligence. 
                        Our club fosters collaboration among students, professionals, and researchers to learn, 
                        innovate, and create AI-driven solutions that address societal challenges.
                    </p>
                    <p>
                        From machine learning enthusiasts to data science experts, our community brings together 
                        minds from various backgrounds united by a common vision of leveraging AI for positive impact.
                    </p>
                {% endif %}
                
                {% if about.who_we_are_image %}
                    <div class="section-image">
                        <img src="{{ about.who_we_are_image.url }}" alt="{{ about.who_we_are_title|default:'Who We Are' }}" loading="lazy">
                    </div>
                {% else %}
                    <div class="image-placeholder">
                        <div>
                            <strong>Who We Are Image</strong><br>
                            Team collaboration, diverse students working together
                        </div>
                    </div>
                {% endif %}
            </div>

            <!-- Why We Exist -->
            <div class="section-card">
                <h2>{{ about.why_exist_title|default:"Why We Exist" }}</h2>
                {% if about.why_exist_description %}
                    {{ about.why_exist_description|linebreaks }}
                {% else %}
                    <p>
                        We exist to inspire and equip members with the tools and expertise needed to navigate 
                        the rapidly evolving AI landscape. By fostering collaboration and continuous learning, 
                        we aim to accelerate AI innovation and create meaningful solutions.
                    </p>
                    <p>
                        In a world where artificial intelligence is reshaping industries and societies, 
                        we believe in democratizing AI knowledge and making it accessible to everyone, 
                        regardless of their background or experience level.
                    </p>
                {% endif %}
                
                {% if about.image %}
                    <div class="section-image">
                        <img src="{{ about.image.url }}" alt="{{ about.why_exist_title|default:'Why We Exist' }}" loading="lazy">
                    </div>
                {% else %}
                    <div class="image-placeholder">
                        <div>
                            <strong>Why We Exist Image</strong><br>
                            AI innovation, technology advancement, future vision
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        <!-- Mission, Vision, Objectives -->
        <div class="foundation-section">
            <div class="section-header">
                <h2 class="section-title">Our Foundation</h2>
                <p class="section-subtitle">
                    The core principles that drive everything we do at AI Kabale
                </p>
            </div>
            
            <div class="mvv-grid" id="mission">
                <!-- Mission -->
                <div class="mvv-card">
                    <div class="mvv-icon">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3>Our Mission</h3>
                    {% if about.mission %}
                        <p>{{ about.mission|linebreaks }}</p>
                    {% else %}
                        <p>
                            To democratize artificial intelligence education and foster innovation 
                            through collaborative learning, practical application, and community engagement. 
                            We strive to bridge the gap between theoretical knowledge and real-world AI solutions.
                        </p>
                    {% endif %}
                    {% if about.mission_image %}
                        <div class="mvv-image">
                            <img src="{{ about.mission_image.url }}" alt="Our Mission" loading="lazy">
                        </div>
                    {% endif %}
                </div>

                <!-- Vision -->
                <div class="mvv-card" id="vision">
                    <div class="mvv-icon">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                            <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3>Our Vision</h3>
                    {% if about.vision %}
                        <p>{{ about.vision|linebreaks }}</p>
                    {% else %}
                        <p>
                            To be the leading AI education and innovation hub in East Africa, 
                            producing world-class AI professionals who drive technological advancement 
                            and create solutions that benefit society and improve lives globally.
                        </p>
                    {% endif %}
                    {% if about.vision_image %}
                        <div class="mvv-image">
                            <img src="{{ about.vision_image.url }}" alt="Our Vision" loading="lazy">
                        </div>
                    {% endif %}
                </div>

                
            </div>
        </div>

        <!-- Impact Section -->
        <div class="impact-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title" style="color: #2c3e50;">Our Impact</h2>
                    <p class="section-subtitle">
                        {{ about.impact_subtitle|default:"Making a difference in AI education and technology advancement in Uganda" }}
                    </p>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">{{ about.impact_stat_1_value|default:"1000+" }}</span>
                        <div class="stat-label">{{ about.impact_stat_1_label|default:"Students Empowered" }}</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ about.impact_stat_2_value|default:"75+" }}</span>
                        <div class="stat-label">{{ about.impact_stat_2_label|default:"AI Projects Completed" }}</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ about.impact_stat_3_value|default:"25+" }}</span>
                        <div class="stat-label">{{ about.impact_stat_3_label|default:"Partner Organizations" }}</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ about.impact_stat_4_value|default:"5" }}</span>
                        <div class="stat-label">{{ about.impact_stat_4_label|default:"Years of Innovation" }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Call to Action -->
<div class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title">{{ about.cta_title|default:"Ready to Join the AI Revolution?" }}</h2>
            <p class="cta-description">
                {{ about.cta_description|default:"Discover how AI Kabale can help you unlock the potential of artificial intelligence and transform your future through cutting-edge education and innovative solutions. Join our community of learners, innovators, and AI enthusiasts today." }}
            </p>
            <div class="cta-buttons">
                <a href="{{ about.cta_primary_link|default:'/contact/' }}" class="btn-primary">{{ about.cta_primary_text|default:"Get Started Today" }}</a>
                <a href="{{ about.cta_secondary_link|default:'/programs/' }}" class="btn-secondary">{{ about.cta_secondary_text|default:"Explore Programs" }}</a>
            </div>
        </div>
    </div>
</div>

<script>
    // Smooth scrolling animation
    document.addEventListener('DOMContentLoaded', function() {
        // Animate stats on scroll
        const observerOptions = {
            threshold: 0.3,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all cards and stats
        document.querySelectorAll('.section-card, .mvv-card, .stat-item').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });

        // Animate counter numbers
        function animateCounter(element, target, duration = 2000) {
            let startTime = null;
            const startValue = 0;
            
            function animate(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                
                const currentValue = Math.floor(progress * target);
                element.textContent = currentValue + (target >= 1000 ? '+' : '');
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                }
            }
            
            requestAnimationFrame(animate);
        }

        // Counter animation observer
        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const target = entry.target;
                    const text = target.textContent;
                    const number = parseInt(text.replace(/\D/g, ''));
                    
                    if (number > 0) {
                        animateCounter(target, number);
                        counterObserver.unobserve(target);
                    }
                }
            });
        }, { threshold: 0.5 });

        // Observe stat numbers
        document.querySelectorAll('.stat-number, .hero-stat-number').forEach(el => {
            counterObserver.observe(el);
        });

        // Parallax effect for hero background
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('.about-hero::before');
            const speed = scrolled * 0.5;
            
            if (parallax) {
                parallax.style.transform = `translateY(${speed}px)`;
            }
        });

        // Smooth scroll for any anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add hover effect to buttons
        document.querySelectorAll('.btn-primary, .btn-secondary').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px)';
            });
            
            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Loading animation for images when they're added
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('load', function() {
                this.style.opacity = '1';
            });
            
            if (img.complete) {
                img.style.opacity = '1';
            }
        });
    });

    // Add some interactive features for better UX
    document.addEventListener('mousemove', (e) => {
        const cards = document.querySelectorAll('.mvv-card, .section-card');
        
        cards.forEach(card => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = (y - centerY) / 10;
            const rotateY = (centerX - x) / 10;
            
            if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(10px)`;
            } else {
                card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
            }
        });
    });

    // Reset card transforms when mouse leaves the page
    document.addEventListener('mouseleave', () => {
        document.querySelectorAll('.mvv-card, .section-card').forEach(card => {
            card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
        });
    });
</script>

{% endblock %}