{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}Leaders - {{ site_settings.site_name }}{% endblock %}

{% block content %}
<section class="py-5">
    <div class="container text-center">
        <h1 class="display-4 text-primary">Our Leaders</h1>
        <p class="lead text-muted">Meet the dedicated individuals guiding our club.</p>

        <nav class="mb-5 d-flex justify-content-center">
            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a class="nav-link active" href="#student-leaders">Student Leaders</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#executive-board">Executive Board</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#faculty-mentors">Faculty Mentors</a>
                </li>
            </ul>
        </nav>

        <div class="mt-4">
            <section id="student-leaders" class="leader-category-section mb-5 py-4">
                <h2 class="text-secondary mb-4">Student Leaders</h2>
                {% if student_leaders %}
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        {% for leader in student_leaders %}
                            <div class="col">
                                <div class="card h-100 shadow-sm border-0">
                                    {% if leader.photo %}
                                        <img src="{{ leader.photo.url }}" class="card-img-top img-fluid rounded-top" alt="{{ leader.full_name }}" style="object-fit: cover; height: 200px;">
                                    {% else %}
                                        <img src="{% static 'images/default_leader.png' %}" class="card-img-top img-fluid rounded-top" alt="Default Leader Photo" style="object-fit: cover; height: 200px;">
                                    {% endif %}
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-primary mb-1">{{ leader.full_name }}</h5>
                                        <p class="card-text text-muted mb-2 small">{{ leader.position }}</p>
                                        <p class="card-text flex-grow-1">{{ leader.bio|truncatechars:100 }}</p>
                                        <div class="mt-auto">
                                            <a href="{% url 'kuai_club:leader_detail' leader.id %}" class="btn btn-sm btn-outline-primary">View Profile</a>
                                            {% if leader.linkedin_url %}
                                                <a href="{{ leader.linkedin_url }}" target="_blank" class="btn btn-sm btn-outline-secondary ms-1" title="LinkedIn Profile"><i class="fab fa-linkedin"></i></a>
                                            {% endif %}
                                            {% if leader.github_url %}
                                                <a href="{{ leader.github_url }}" target="_blank" class="btn btn-sm btn-outline-dark ms-1" title="GitHub Profile"><i class="fab fa-github"></i></a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted">No student leaders found at the moment.</p>
                {% endif %}
            </section>

            <section id="executive-board" class="leader-category-section mb-5 py-4">
                <h2 class="text-secondary mb-4">Executive Board</h2>
                {% if executive_board %}
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        {% for leader in executive_board %}
                            <div class="col">
                                <div class="card h-100 shadow-sm border-0">
                                    {% if leader.photo %}
                                        <img src="{{ leader.photo.url }}" class="card-img-top img-fluid rounded-top" alt="{{ leader.full_name }}" style="object-fit: cover; height: 200px;">
                                    {% else %}
                                        <img src="{% static 'images/default_leader.png' %}" class="card-img-top img-fluid rounded-top" alt="Default Leader Photo" style="object-fit: cover; height: 200px;">
                                    {% endif %}
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-primary mb-1">{{ leader.full_name }}</h5>
                                        <p class="card-text text-muted mb-2 small">{{ leader.position }}</p>
                                        <p class="card-text flex-grow-1">{{ leader.bio|truncatechars:100 }}</p>
                                        <div class="mt-auto">
                                            <a href="{% url 'kuai_club:leader_detail' leader.id %}" class="btn btn-sm btn-outline-primary">View Profile</a>
                                            {% if leader.linkedin_url %}
                                                <a href="{{ leader.linkedin_url }}" target="_blank" class="btn btn-sm btn-outline-secondary ms-1" title="LinkedIn Profile"><i class="fab fa-linkedin"></i></a>
                                            {% endif %}
                                            {% if leader.github_url %}
                                                <a href="{{ leader.github_url }}" target="_blank" class="btn btn-sm btn-outline-dark ms-1" title="GitHub Profile"><i class="fab fa-github"></i></a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted">No executive board members found at the moment.</p>
                {% endif %}
            </section>

            <section id="faculty-mentors" class="leader-category-section mb-5 py-4">
                <h2 class="text-secondary mb-4">Faculty Mentors</h2>
                {% if faculty_mentors %}
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                        {% for leader in faculty_mentors %}
                            <div class="col">
                                <div class="card h-100 shadow-sm border-0">
                                    {% if leader.photo %}
                                        <img src="{{ leader.photo.url }}" class="card-img-top img-fluid rounded-top" alt="{{ leader.full_name }}" style="object-fit: cover; height: 200px;">
                                    {% else %}
                                        <img src="{% static 'images/default_leader.png' %}" class="card-img-top img-fluid rounded-top" alt="Default Leader Photo" style="object-fit: cover; height: 200px;">
                                    {% endif %}
                                    <div class="card-body d-flex flex-column">
                                        <h5 class="card-title text-primary mb-1">{{ leader.full_name }}</h5>
                                        <p class="card-text text-muted mb-2 small">{{ leader.position }}</p>
                                        <p class="card-text flex-grow-1">{{ leader.bio|truncatechars:100 }}</p>
                                        <div class="mt-auto">
                                            <a href="{% url 'kuai_club:leader_detail' leader.id %}" class="btn btn-sm btn-outline-primary">View Profile</a>
                                            {% if leader.linkedin_url %}
                                                <a href="{{ leader.linkedin_url }}" target="_blank" class="btn btn-sm btn-outline-secondary ms-1" title="LinkedIn Profile"><i class="fab fa-linkedin"></i></a>
                                            {% endif %}
                                            {% if leader.github_url %}
                                                <a href="{{ leader.github_url }}" target="_blank" class="btn btn-sm btn-outline-dark ms-1" title="GitHub Profile"><i class="fab fa-github"></i></a>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted">No faculty mentors found at the moment.</p>
                {% endif %}
            </section>

        </div>
    </div>
</section>
{% endblock content %}